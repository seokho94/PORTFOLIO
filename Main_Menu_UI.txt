using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using System.IO;
using UnityEngine.SceneManagement;
public class MainMenu : MonoBehaviour
{
    [SerializeField] private GameObject obj_Option;
    [SerializeField] private GameObject obj_MainButton;
    [SerializeField] private GameObject obj_Display;
    [SerializeField] private GameObject obj_Graphic;
    [SerializeField] private GameObject obj_Sound;
    [SerializeField] private GameObject obj_Controll;
    [SerializeField] private GameObject obj_KeyBinding;
    [SerializeField] private GameObject obj_SaveSlotPanel;
    [SerializeField] private GameObject setting_ScreenResolution;
    [SerializeField] private GameObject setting_PreSet;
    [SerializeField] private GameObject setting_Brightness;
    [SerializeField] private GameObject setting_ScreenSetting;

    [SerializeField] private Dropdown DBx_Crouch;
    [SerializeField] private Dropdown DBX_Sprint;
    [SerializeField] private Dropdown DBox_ScreenResolution;
    [SerializeField] private Dropdown DBox_PreSet;
    [SerializeField] private Slider Sl_Brightness;
    [SerializeField] private Dropdown DBox_ScreenMode;
    // Start is called before the first frame update

    //Display Value
    public float ScreenResolution_Reset;
    public float PreSet_Reset;
    public float Brightness_Reset;
    public float ScreenMode_Reset;
    public float ScreenResolution_Basic;
    public float PreSet_Basic;
    public float Brightness_Basic;
    public float ScreenMode_Basic;
    [SerializeField] private string saveDirectoryPath;


    //Graphic Value


    //Sound Value


    //시작시 메인메뉴 비활성화
    void Start()
    {
        obj_Option.SetActive(false);
        obj_MainButton.SetActive(true);
        obj_Display.SetActive(true);
        obj_Graphic.SetActive(false);
        obj_KeyBinding.SetActive(false);
        obj_Sound.SetActive(false);
        obj_Controll.SetActive(false);
    }

    // Update is called once per frame
    void Update()
    {

    }

    public void Awake()
    {
    }
    public void NewGame()
    {
        Debug.Log("NewGame");
        if (!SaveNLoadManager.Instance.MakeSaveSlot())
        {
            // 슬롯이 부족할 때!!
            return;
        }
        LoadingSceneController.Instance.LoadScene("Cave_Map");
    }

    public void LoadGame()
    {
        obj_SaveSlotPanel.SetActive(true);
    }

    public void SetSaveSlot(string name)
    {
        SaveNLoadManager.Instance.SetSaveSlot(name);
    }

    public void Option()
    {
        Debug.Log("Option");
        obj_Option.SetActive(true);
        obj_MainButton.SetActive(false);
    }

    public void Quit()
    {
#if UNITY_EDITOR
        UnityEditor.EditorApplication.isPlaying = false;
#else
        Application.Quit();
#endif
    }

    public void OnClickExit()
    {
        obj_Option.SetActive(false);
        obj_MainButton.SetActive(true);
    }

    public void Display_Tab()
    {
        obj_Display.SetActive(true);
        obj_Graphic.SetActive(false);
        obj_Sound.SetActive(false);
        obj_Controll.SetActive(false);
        obj_KeyBinding.SetActive(false);
    }

    public void Graphic_Tab()
    {
        obj_Display.SetActive(false);
        obj_Graphic.SetActive(true);
        obj_Sound.SetActive(false);
        obj_Controll.SetActive(false);
        obj_KeyBinding.SetActive(false);
    }

    public void Sound_Tab()
    {
        obj_Display.SetActive(false);
        obj_Graphic.SetActive(false);
        obj_Sound.SetActive(true);
        obj_Controll.SetActive(false);
        obj_KeyBinding.SetActive(false);
    }

    public void Controll_Tab()
    {
        obj_Display.SetActive(false);
        obj_Graphic.SetActive(false);
        obj_Sound.SetActive(false);
        obj_Controll.SetActive(true);
        obj_KeyBinding.SetActive(false);
    }

    public void KeyBinding_Tab()
    {
        obj_Display.SetActive(false);
        obj_Graphic.SetActive(false);
        obj_Sound.SetActive(false);
        obj_Controll.SetActive(false);
        obj_KeyBinding.SetActive(true);
    }
    
    public void Display_Reset()
    {
      
    }

    public void Screen_Resolution_Button()
    {

    }

    public void PreSet_Button()
    {

    }

    public void Brightness_Button()
    {

    }

    public void ScreenMode_Button()
    {

    }

    public void Crouch_Left_Button()
    {
        if (DBx_Crouch.value <= 0)
        {
            DBx_Crouch.value = 1;
        }
        else DBx_Crouch.value--;
    }
    public void Crouch_Right_Button()
    {
        if (DBx_Crouch.value >= 1)
        {
            DBx_Crouch.value = 0;
        }
        else DBx_Crouch.value++;
    }

    public void Sprint_Right_Button()
    {
        if (DBX_Sprint.value >= 1)
        {
            DBX_Sprint.value = 0;
        }
        else DBX_Sprint.value++;
    }

    public void Sprint_Left_Button()
    {
        if (DBX_Sprint.value <= 0)
        {
            DBX_Sprint.value = 1;
        }
        else DBX_Sprint.value--;
    }
}